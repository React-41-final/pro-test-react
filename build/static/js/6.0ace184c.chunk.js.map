{"version":3,"sources":["components/diagram/Diagram.module.scss","components/pages/results/Results.module.scss","components/diagram/Diagram.js","img/catResultPage.png","components/pages/results/Results.js","redux/operations/resultsOperations.js"],"names":["module","exports","Diagram","state","percent","prevState","prevProps","this","props","slice","setState","className","styles","container","answers","textAnswers","textAnswersNumber","chart","chartType","loader","data","Number","Math","round","options","pieStartAngle","pieSliceText","slices","0","color","1","chartArea","left","top","width","height","backgroundColor","rootProps","Component","Results","testAnswers","typeOfTests","resultsOperation","length","results","to","routes","mainPage","Loader","resultTitle","resultName","result","catImages","src","alt","mainMessage","secondaryMessage","test","buttonText","button","type","mapDispatchToProps","tests","typeOfTest","dispatch","a","resultsRequest","postTechResults","resultsSuccess","resultsError","postTheoryResults","connect","resultsOfTest"],"mappings":"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","file":"static/js/6.0ace184c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Diagram_container__2tuYv\",\"chart\":\"Diagram_chart__32rsK\",\"answers\":\"Diagram_answers__2P4on\",\"textAnswers\":\"Diagram_textAnswers__3C3kI\",\"textAnswersNumber\":\"Diagram_textAnswersNumber__1wruQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"results\":\"Results_results__1vzZS\",\"resultTitle\":\"Results_resultTitle__2f5IH\",\"resultName\":\"Results_resultName__1ukAa\",\"catImages\":\"Results_catImages__3PZfF\",\"mainMessage\":\"Results_mainMessage__2feFm\",\"secondaryMessage\":\"Results_secondaryMessage__3i9ry\",\"button\":\"Results_button__1YHEd\",\"buttonText\":\"Results_buttonText__1BH7z\"};","import React, { Component } from \"react\";\r\n\r\nimport { Chart } from \"react-google-charts\";\r\nimport styles from \"./Diagram.module.scss\";\r\n\r\nclass Diagram extends Component {\r\n  state = { percent: null };\r\n\r\n  componentDidUpdate(prevState, prevProps) {\r\n    const percent = this.props.percent.slice(0, -1);\r\n\r\n    if (percent !== prevProps.percent) {\r\n      this.setState({ percent });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return  this.state.percent === \"0%\" ? (\r\n      <div className={styles.container}>\r\n        <div className={styles.answers}>\r\n          <p className={styles.textAnswers}>\r\n            Correct answers -{\" \"}\r\n            <span className={styles.textAnswersNumber}>0</span>\r\n          </p>\r\n          <p className={styles.textAnswers}>\r\n            Total questions -{\" \"}\r\n            <span className={styles.textAnswersNumber}>12</span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <div className={styles.container}>\r\n        <Chart\r\n          className={styles.chart}\r\n          chartType=\"PieChart\"\r\n          loader={<div>Loading Chart</div>}\r\n          data={[\r\n            [\"Task\", \"Hours per Day\"],\r\n            [\r\n              `${this.state.percent}%  Correct `,\r\n              Number(Math.round((this.state.percent / 100) * 12)),\r\n            ],\r\n            [\r\n              `${100 - this.state.percent}%  Incorrect `,\r\n              12 - Number(Math.round((this.state.percent / 100) * 12)),\r\n            ],\r\n          ]}\r\n          options={{\r\n            pieStartAngle: 100,\r\n            pieSliceText: \"none\",\r\n            slices: {\r\n              0: { color: \"#FF6B01\" },\r\n              1: { color: \"#D7D7D7\" },\r\n            },\r\n            chartArea: { left: 100, top: 10, width: \"90%\", height: \"90%\" },\r\n            backgroundColor: \"#f5f6fb\",\r\n          }}\r\n          rootProps={{ \"data-testid\": \"1\" }}\r\n        />\r\n        <div className={styles.answers}>\r\n          <p className={styles.textAnswers}>\r\n            Correct answers -{\" \"}\r\n            <span className={styles.textAnswersNumber}>\r\n              {Number(Math.round((this.state.percent / 100) * 12))}\r\n            </span>\r\n          </p>\r\n          <p className={styles.textAnswers}>\r\n            Total questions -{\" \"}\r\n            <span className={styles.textAnswersNumber}>12</span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// const mapStateToProps = (state) => ({\r\n//   percent: state.resultsOfTest.results.result,\r\n// });\r\n\r\n// export default connect(mapStateToProps)(Diagram);\r\nexport default Diagram;\r\n","export default __webpack_public_path__ + \"static/media/catResultPage.aa40c4d6.png\";","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { NavLink, Redirect } from \"react-router-dom\";\r\n\r\nimport routes from \"../../../routers/routers\";\r\nimport Diagram from \"../../diagram/Diagram\";\r\nimport catImages from \"../../../img/catResultPage.png\";\r\nimport { resultsOperation } from \"../../../redux/operations/resultsOperations\";\r\n\r\nimport styles from \"./Results.module.scss\";\r\nimport Loader from \"../../loader/Loader\";\r\n\r\nclass Results extends Component {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    const { testAnswers, typeOfTests, resultsOperation } = this.props;\r\n\r\n    if (testAnswers && testAnswers.answers.length === 12) {\r\n      resultsOperation(testAnswers, typeOfTests);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevState, prevProps) {\r\n    const results = this.props.results;\r\n\r\n    if (results !== prevProps.results) {\r\n      this.setState({ results });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {testAnswers, results} = this.props;\r\n\r\n    return testAnswers === null || testAnswers.answers.length < 12 ? (\r\n      <Redirect to={routes.mainPage} />\r\n    ) : results.answers ? (\r\n      <Loader />\r\n    ) : (\r\n      <div className={styles.results}>\r\n        <h2 className={styles.resultTitle}>Results</h2>\r\n        <p className={styles.resultName}>\r\n          {this.props.typeOfTests === \"technical\"\r\n            ? `[ Testing technical_ ]`\r\n            : `[ Testing theory_ ]`}\r\n        </p>\r\n        <Diagram percent={results.result} />\r\n        <img className={styles.catImages} src={catImages} alt=\"cat\"></img>\r\n        <p className={styles.mainMessage}>{results.mainMessage}</p>\r\n        <p className={styles.secondaryMessage}>\r\n          {results.secondaryMessage}\r\n        </p>\r\n        <NavLink to={routes.test} className={styles.buttonText}>\r\n          <button className={styles.button} type=\"button\">\r\n            Try again\r\n          </button>\r\n        </NavLink>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  testAnswers: state.tests.answers, // Масив ответов из сторе\r\n  results: state.resultsOfTest.results,\r\n  typeOfTests: state.tests.type, //для определения какой запрос делать\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  resultsOperation: resultsOperation,\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Results);\r\n","import {\r\n  resultsRequest,\r\n  resultsSuccess,\r\n  resultsError,\r\n} from \"../actions/resultsAction\";\r\nimport { postTechResults, postTheoryResults } from \"../../servises/reqToApi\";\r\n\r\nconst resultsOperation = (tests, typeOfTest) => async (dispatch) => {\r\n  dispatch(resultsRequest());\r\n\r\n  if (typeOfTest === \"technical\") {\r\n    try {\r\n      const results = await postTechResults(tests);\r\n      dispatch(resultsSuccess(results));\r\n    } catch (error) {\r\n      dispatch(resultsError(error));\r\n    }\r\n  } else {\r\n    try {\r\n      const results = await postTheoryResults(tests);\r\n      dispatch(resultsSuccess(results));\r\n    } catch (error) {\r\n      dispatch(resultsError(error));\r\n    }\r\n  } \r\n};\r\n\r\nexport { resultsOperation };\r\n"],"sourceRoot":""}